find objects -type f | while read f; do     h=$(echo "$f" | sed -E 's#^objects/([0-9a-f]{2})/([0-9a-f]{38})#\1\2#');     if git cat-file -t $h 2>/dev/null | grep -q '^commit$'; then echo ---; echo commit $h; git cat-file -p $h; fi; done | tee /tmp/g | perl -ne '/^commit (\S+)/ and $c=$1; /^parent (\S+)/ and $P{$c}=$1; END { print "notaparent $_\n" for grep {my $c=$_; not grep {$c eq $_} values %P} keys %P }'
