#!/bin/bash

usagedie()
{
	echo "Usage of $myname(1) is the same as $killname(1)" >&2
	$killname --help >&2
	exit 1
}

myname=${0##*/}
killname=${myname/slay/kill}
declare -a argv
target=''

while [ -n "$1" ]
do
	case "$1" in
	--help)	usagedie;;
	-*)
		argv+=("$1")
		;;
	*)
		argv+=("$1")
		;;
	esac
	shift
done

set -u

if [ "$myname" = slay ]
then
	while [ -d "/proc/$prm" ]
	do
		kill "${argv[@]}"
		sleep 0.1
	done
elif [ "$myname" = slayall ]
then
	while killall -0 "$prm"
	do
		killall "${argv[@]}"
		sleep 0.1
	done
else
	usagedie
fi
